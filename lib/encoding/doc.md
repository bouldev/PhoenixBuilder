# phoenixbuilder/lib/encoding
`encoding(phoenixbuilder/lib/encoding)` 包提供了一个二进制流编码和解码实现，它允许您简单地在网络上编码和解码二进制数据。

如果没有特殊说明，所有数字类型的数据都将以 `大端字节序(Big Endian)` 记录。

下表列出了已有的对于基本数据类型的全部支持及对应编码方法。

| 数据类型                              | 编码方法                                 | 样例(二进制形式)                                                                                                    | 样例(可读形式)                        | 备注                                                                   |
| ------------------------------------- | ---------------------------------------- | ------------------------------------------------------------------------------------------------------------------- | ------------------------------------- | ---------------------------------------------------------------------- |
| `slice([]byte)`                       | `uint32 length; buffer[length]`          | `\x00\x00\x00\x05`<br/>`\x01\x02\x03\x04\x05`                                                                       | `[1, 2, 3, 4, 5]`                     | 单个 `slice` 的最大长度上限为 `4294967295`                             |
| `string`                              | `uint16 length; buffer[length]`          | `\x00\x05`<br/>`Happy`                                                                                              | `Happy`                               | 单个 `字符串` 的最大长度上限为 `65535`                                 |
| `string slice([]string)`              | `uint32 length; string[length]`          | `\x00\x00\x00\x03`<br/>`\x00\x01A\x00\x02AB\x00\x03ABC`                                                             | `["A", "AB", "ABC"]`                  | 单个 `string slice` 的最大长度上限为 `4294967295`                      |
| `map[string]slice(map[string][]byte)` | `uint16 length; {string, slice}[length]` | `\x00\x02`<br/>`\x00\x02AB`<br/>`\x00\x00\x00\x01\x02`<br/>`\x00\x03ABC`<br/>`\x00\x00\x00\x05\x01\x02\x03\x04\x05` | `{"AB": [2], "ABC": [1, 2, 3, 4, 5]}` | 单个 `map[string]slice` 的最大长度上限为 `65535`                       |
| `bool`                                | `uint8(0 or 1)`                          | `\x01`                                                                                                              | `true`                                | 接受值仅限于 `0(false)` 或 `1(true)`                                   |
| `uint8`                               | `uint8`                                  | `\x03`                                                                                                              | `3`                                   | 单个 `uint8` 的取值范围为 `0 - 255`                                    |
| `int8`                                | `int8`                                   | `\xe9`                                                                                                              | `-23`                                 | 单个 `int8` 的取值范围为 `-128 - 127`                                  |
| `uint16`                              | `uint16`                                 | `\xab\xcd`                                                                                                          | `43981`                               | 单个 `uint16` 的取值范围为 `0 - 65535`                                 |
| `int16`                               | `int16`                                  | `\x20\x18`                                                                                                          | `8216`                                | 单个 `int16` 的取值范围为 `-32768 - 32767`                             |
| `uint32`                              | `uint32`                                 | `\x20\x18\x20\x18`                                                                                                  | `538451992`                           | 单个 `uint32` 的取值范围为 `0 - 4294967295`                            |
| `int32`                               | `int32`                                  | `\x24\x01pt`                                                                                                        | `604074100`                           | 单个 `int32` 的取值范围为 `-2147483648 - 2147483647`                   |
| `uint64`                              | `uint64`                                 | `\x00\x00\x00\x00\x00\x00\x00\x08`                                                                                  | `8`                                   | 单个 `uint64` 的取值范围为 `0 - 18446744073709551615`                  |
| `int64`                               | `int64`                                  | `\x24\x01pt\x20\x18\x20\x16`                                                                                        | `2594478504399085590`                 | 单个 `int64` 的取值范围为 `-9223372036854775808 - 9223372036854775807` |

下表列出了已有的对于自定义数据类型的全部支持及对应编码方法。

| 数据类型                          | 编码方法     | 样例(二进制形式)                                                   | 样例(可读形式)                         | 备注                               |
| --------------------------------- | ------------ | ------------------------------------------------------------------ | -------------------------------------- | ---------------------------------- |
| `uuid.UUID`                       | `buffer[16]` | `\x78\xca\x9b\xf3\x07\x4c\x11\xee\x93\x1b\x00\xff\xad\x4d\xc5\x4d` | `78ca9bf3-074c-11ee-931b-00ffad4dc54d` | 单个 `uuid.UUID` 的长度为常数 `16` |
| `protocol.CommandOutputMessage`   | 请参阅代码   | _None_                                                             | _None_                                 | _None_                             |
| `[]protocol.CommandOutputMessage` | 请参阅代码   | _None_                                                             | _None_                                 | _None_                             |